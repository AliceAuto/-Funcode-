#include "EC.h"//  配置
#ifdef CONSOLE//
//=============

#include "TEST_2.h"

//===================================================
//				此文件为单元测试入口			   //
//===================================================
int main() {


	//在主函数内部进行单元测试
	/*		注意

	使用单元测试通道时要修改 "EC.h"	
	配置文件中 宏定义为		#define	CONSOLE
	
	*/
/*//==========================================================================================================
*+			+			+ 		    +o		I	   o +			 +		   	 +			 +			 +		//
* +		  +	  +		  +	  +		  +	 o 	 	I	   o   +	   +   +	   +   +       +   +	   +   +	//
*	+	+		+	+ 		+	+	 o   \\ I //   o     +	 +	     +	 +		 +	 +		 +	 +		 +	//
*	  + 		  +			  +		 o	  \\_//	   o	   +		   +		   +		   +		   +//
//==========================================================================================================*/

 // 创建工厂并注册类型
    SpriteFactory factory;

    factory.registerType("newType", createCAnimateSprite); // ==================== 新添加

    // 创建资源管理器
    ResourceManager resourceManager(factory);

    // 从文件解析JSON并创建对象
    if (resourceManager.loadFromFile("resource.json")) {
        // 示例代码：获取和使用对象 (如果不需要这些操作，可以删除下面的代码)
        ResourceManager::Bag& bag1 = resourceManager["bag1"];
        CAnimateSprite* newObj = dynamic_cast<CAnimateSprite*>(bag1["field2"]);

        // 可以在这里添加处理对象的逻辑 (如果需要)
    }

/*//==========================================================================================================
*+			+			+ 		    +o	  //-\\	     o +		   +	        +		    +		    +	   //
* +		  +	  +		  +	  +		  +	 o 	 //	I \\     o   +	     +   +	      +   +	      +   +	      +	  +	   //
*	+	+		+	+ 		+	+	 o      I 	     o     +   +       +   +		+	+		+   +		+  //
*	  + 		  +			  +		 o	  	I	     o       +		   	 +			  +		      +			 + //
//==========================================================================================================*/
	system("pause"); 
    return 0;
}
#endif